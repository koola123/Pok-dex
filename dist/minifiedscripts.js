let pokemonRepository=function(){let e=[],t=()=>fetch("https://pokeapi.co/api/v2/pokemon/?limit=500").then(e=>e.json()).then(e=>{e.results.forEach(e=>{let t={name:l(e.name),detailsUrl:e.url};o(t)})}).catch(e=>{console.log(e)}),n=function(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageFrontUrl=t.sprites.front_default,e.imageBackUrl=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=[];for(let n=0;n<t.types.length;n++)e.types.push(" "+t.types[n].type.name[0].toUpperCase()+t.types[n].type.name.slice(1).toLowerCase());e.abilities=[];for(let i=0;i<t.abilities.length;i++)e.abilities.push(" "+t.abilities[i].ability.name[0].toUpperCase()+t.abilities[i].ability.name.slice(1).toLowerCase());return e}).catch(function(e){console.error(e)})},i=function(){return e},o=function(t){"object"==typeof t&&"name"in t?e.push(t):console.error("Pokemon object is not correct.")},a=function(e){let t=document.querySelector(".list-group");t.classList.add("d-flex","flex-direction-row","justify-content-center","flex-wrap-reverse");let n=document.createElement("li");n.classList.add("list-group-item","border-0","p-0");let i=document.createElement("button");i.innerText=l(e.name),i.classList.add("button"),i.setAttribute("data-target","#pokemonModal"),i.setAttribute("data-toggle","modal"),i.addEventListener("click",function(){r(e)}),n.appendChild(i),t.appendChild(n)},r=function(e){n(e).then(function(){var t;let n,i,o,a,r,s,l,p,c,d;t=e,n=$(".modal-body"),i=$(".modal-title"),o=$(".modal-footer"),i.empty(),n.empty(),o.empty(),a=$("<h2>"+t.name+"</h2>"),(r=$('<img class="modal-img">')).attr("src",t.imageFrontUrl),(s=$('<img class="modal-img">')).attr("src",t.imageBackUrl),l=$("<p><strong> Height: </strong>"+t.height+" cm</p>"),p=$("<p><strong> Weight: </strong>"+t.weight+" kg</p>"),c=$("<p><strong> Type: </strong>"+t.types+"</p>"),d=$("<p><strong> Abilities: </strong>"+t.abilities+"</p>"),i.append(a),n.append(r),n.append(s),o.append(l),o.append(p),o.append(c),o.append(d)})},s=document.getElementById("searchbar");function l(e){return e[0].toUpperCase()+e.slice(1)}return s.addEventListener("input",function e(){let t=s.value.toUpperCase(),n=document.querySelectorAll(".list-group-item");n.forEach(e=>{e.textContent.toUpperCase().includes(t)?e.style.display="":e.style.display="none"})}),{add:o,getAll:i,loadList:t,loadDetails:n,addListItem:a,showDetails:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){return pokemonRepository.addListItem(e)})});
